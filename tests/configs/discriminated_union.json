{
    "service": {
        "$reference": {
            "registry": {
                "schema": "simple_service",
                "version": "1.0.0"
            }
        },
        "name": "discriminated_service"
    },
    "services": [
        {
            "$reference": {
                "registry": {
                    "schema": "simple_service",
                    "version": "1.0.0"
                }
            },
            "name": "union_service_1"
        },
        {
            "$reference": {
                "registry": {
                    "schema": "database_service",
                    "version": "1.0.0"
                }
            },
            "host": "union.db.example.com",
            "port": 5432,
            "database_name": "union_db"
        }
    ]
}